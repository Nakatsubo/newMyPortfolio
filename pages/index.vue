<template>
  <div class="index-wrapper">

    <section class="index-wrapper__section isFirst blue">
      <div class="index-wrapper__section--introduction section-inner introduction-wrapper">
        <div class="introduction-wrapper__greet">
          <h1 class="introduction-wrapper__greet--title isSerif">
            WELCOME TO<br>
            THE WORKSPACE OF<br>
            <span class="coloring">YUSUKE NAKATSUBO</span>
          </h1>
           <p class="introduction-wrapper__greet--subtitle">
             WEB DESIGNER, WEB DEVELOPER & WEB DIRECTER IN TOKYO.
           </p>
        </div>
        <div class="introduction-wrapper__arrow">
          <object type="image/svg+xml" data="/img/arrow.svg" class="introduction-wrapper__arrow--image"></object>
        </div>
      </div>  
    </section>

    <section class="index-wrapper__section red">
      <div class="index-wrapper__section--project section-inner project-wrapper">
        <div class="section-inner__title project-wrapper__title">
          <h1 class="section-inner--text project-wrapper--text">
            PROJECT
          </h1>
        </div>
        <div class="section-inner__heading project-wrapper__heading">
          <p class="section-inner__heading--text project-wrapper__heading--text">
            Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
          </p>
        </div>
        <div class="section-inner__body project-wrapper__body">
          <p class="section-inner__body--text project-wrapper__body--text">
            これは生涯おそらくいわゆる学習通りにおいてもののために思っなな。とうてい晩に想像年は無論こういう批評ですうなどが入ってならんをは関係するたですし、どうにも聴きありましないなかっ。弁当に忘れるないものはようやく時間がどうしてもでないん。とうとう久原さんから注意性全く開始がありでしょ先生その支私か滅亡がというご区別ませますですでしば、その今日はおれか仕儀仕合せが思いて、岡田さんの事を数のそれにけっしてご努力とできて私自己をご意味をするように無論お教育で思わべきですば、常に何だか蹂躙にできるだておりなのに見せるでしょまし。
          </p>
        </div>
      </div>
    </section>

    <section class="index-wrapper__section orange">
      <div class="index-wrapper__section--about section-inner about-wrapper">
        <div class="section-inner__title about-wrapper__title">
          <h1 class="section-inner__title--text about-wrapper__heading--text">
            ABOUT
          </h1>
        </div>
        <div class="section-inner__heading about-wrapper__heading">
           <p class="section-inner__heading--text about-wrapper__heading--text">
             Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
           </p>
        </div>
        <div class="section-inner__body about-wrapper__body">
          <p class="section-inner__body--text about-wrapper__body--text">
            これは生涯おそらくいわゆる学習通りにおいてもののために思っなな。とうてい晩に想像年は無論こういう批評ですうなどが入ってならんをは関係するたですし、どうにも聴きありましないなかっ。弁当に忘れるないものはようやく時間がどうしてもでないん。とうとう久原さんから注意性全く開始がありでしょ先生その支私か滅亡がというご区別ませますですでしば、その今日はおれか仕儀仕合せが思いて、岡田さんの事を数のそれにけっしてご努力とできて私自己をご意味をするように無論お教育で思わべきですば、常に何だか蹂躙にできるだておりなのに見せるでしょまし。
          </p>
        </div>
      </div>
    </section>

    <section class="index-wrapper__section purple">
      <div class="index-wrapper__section--blog section-inner blog-wrapper">
        <div class="section-inner__title blog-wrapper__title">
          <h1 class="section-inner__title--text blog-wrapper__title--text">
            BLOG
          </h1>
        </div>
        <div class="section-inner__heading blog-wrapper__heading">
          <p class="section-inner__heading--text blog-wrapper__heading--text">
            COMING SOON
          </p>
        </div>
        <!-- <div class="section-inner__body blog-wrapper__body">
          <p class="section-inner__body--text blog-wrapper__body--text">

          </p>
        </div> -->
      </div>
    </section>

    <section class="index-wrapper__section green">
      <div class="index-wrapper__section--contact section-inner contact-wrapper">
        <div class="section-inner__title contact-wrapper__title">
          <h1 class="section-inner__title--text contact-wrapper__title--text">
            CONTACT
          </h1>
        </div>
        <div class="section-inner__heading contact-wrapper__heading">
          <p class="section-inner__heading--text contact-wrapper__heading--text">
            DROP ME AN <span class="coloring">MAIL FORM</span>
          </p>
        </div>
        <div class="section-inner__body contact-wrapper__body">
          <p class="section-inner__body--text contact-wrapper__body--text">
          </p>
          <ul class="sns-list">
            <li class="sns-list__item"><a href="" class="sns-list__item--linkedin">LINKEDIN</a></li>
            <li class="sns-list__item"><a href="" class="sns-list__item--facebbook">FACEBOOK</a></li>
            <li class="sns-list__item"><a href="" class="sns-list__item--twitter">TWITTER</a></li>
            <li class="sns-list__item"><a href="" class="sns-list__item--instagram">INSTAGRAM</a></li>
          </ul>
        </div>
      </div>
    </section>
    
    <div class="index-wrapper__list">
      <div class="index-wrapper__list--item item-wrapper">
        <div class="item-wrapper__number">01</div>
        <div class="item-wrapper__border"></div>
        <div class="item-wrapper__text">INTRODUCTION</div>
      </div>
      <div class="index-wrapper__list--item item-wrapper">
        <div class="item-wrapper__number">02</div>
        <div class="item-wrapper__border"></div>
        <div class="item-wrapper__text">PROJECT</div>
      </div>
      <div class="index-wrapper__list--item item-wrapper">
        <div class="item-wrapper__number">03</div>
        <div class="item-wrapper__border"></div>
        <div class="item-wrapper__text">ABOUT</div>
      </div>
      <div class="index-wrapper__list--item item-wrapper">
        <div class="item-wrapper__number">04</div>
        <div class="item-wrapper__border"></div>
        <div class="item-wrapper__text">BLOG</div>
      </div>
      <div class="index-wrapper__list--item item-wrapper">
        <div class="item-wrapper__number">05</div>
        <div class="item-wrapper__border"></div>
        <div class="item-wrapper__text">CONTACT</div>
      </div>
    </div>

  </div>  
</template>

<script>
// gsap
import { gsap } from 'gsap';
import { ScrollTrigger } from 'gsap/ScrollTrigger';
if (process.client) {
  gsap.registerPlugin(ScrollTrigger)
}

// /* eslint-disable */
export default {
  name: 'IndexPage',
  mounted() {
    // Adobe Fonts 
    this.$adobeFonts(document)

    // Section transition
    const sections = gsap.utils.toArray('.index-wrapper__section')
    const lists = gsap.utils.toArray('.index-wrapper__list--item')

    let currentSection = sections[0]

    gsap.defaults({
      overwrite: 'auto',
      duration: 1
    })

    gsap.set('body', {
      height: (sections.length * 100) + '%'
    })

    sections.forEach((section, i) => {
      ScrollTrigger.create({
        start: () => (i - 0.5) * innerHeight,
        end: () => (i + 0.5) * innerHeight,
        scrub: true,
        markers: true,
        toggleActions: 'play reset play reset',
        onToggle: self => self.isActive && setSection(section),
        onEnter: () => {
          lists.forEach((e) => {
            e.classList.remove('isActive')
          })
          lists[i].classList.add('isActive')
        },
        onEnterBack: () => {
          lists.forEach((e) => {
            e.classList.remove('isActive')
          })
          lists[i].classList.add('isActive')
        }
      })
    })

    function setSection(newSection) {
      if (newSection !== currentSection) {
        gsap.timeline()
          .to(currentSection.querySelector('h1'), {
            y: -30,
            autoAlpha: 0,
            duration: 0.3
          })
          .to(currentSection, {
            autoAlpha: 0,
            duration: 0.5
          })

        gsap.timeline()
          .to(newSection, {
            autoAlpha: 1,
            duration: 0.5
          })
          .fromTo(newSection.querySelector('h1'), {
            y: 30,
            autoAlpha: 0
          }, {
            autoAlpha: 1,
            y: 0, duration:.3
          })
        currentSection = newSection    
      }
    }
  },
}
</script>

<style lang="scss" scoped>
/* stylelint-disable */
.index-wrapper {

  // section
  &__section {
    position: fixed;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;

    &:not(.isFirst) {
      opacity: 0;
      visibility: hidden;
    }

  }

  // list
  &__list {
    position: fixed;
    top: 10px;
    right: 10px;
    background: black;
    padding: 0px 10px;

    &--item {
      color: white;
      font-size: 1.3em;
      line-height: 1.7;
      text-decoration: none;

      &:hover {
        text-decoration: underline;
      }

      &.isActive {
        color: red;
      }
    }
  }
}

// introduction
.introduction-wrapper {

  // arrow
  &__arrow {
    &--image {
      width: auto;
      height: 88px;
    }
  }
}

/* dummy colors */
.blue {
  background-color: blue;
}
.red {
  background-color: red;
}
.orange {
  background-color: orange;
}
.purple {
  background-color: purple;
}
.green {
  background-color: green;
}
</style>
